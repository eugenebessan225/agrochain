<!DOCTYPE html>
<html>
<head>
    <title>Agrochain | Market </title>
    <link rel="stylesheet" type="text/css" href="./src/bootstrap.css">
    <link rel="stylesheet" type="text/css" href="./src/style.css">    
</head>
<body>
    <canvas class="background"></canvas>
    <nav class="navbar navbar-dark fixed-top bg-dark flex-md-nowrap p-0 shadow">
        <a class="navbar-brand col-sm-3 col-md-2 mr-0" href="#" target="_blank">Agrochain | Market</a>
		<div class="row" style="height:59px; margin-top: 10px;">
			<div class="col-6">
				<button class="btn btn-primary" id="enableEthereumButton" style="height: 50px; width: 97px;">Connecter</button>
			</div>
			<div class="col-6">
				<a class="nav-link" href="#"><span id="showAccount" style="margin-right: -367px;">None</span>
			</div>
		</div>
    </nav>
    <div class="container">
        <div class="row justify-content-center" style="margin-top: 70px;">
            <div class="col-4">
                <img src="./src/bootstrap-icons/flower1.svg" style="width:50px; height:50px; display: table-cell; vertical-align: middle; margin-left: 195px; margin-top: 5px;">
                <br>
                <h4 style="margin-left:166px; margin-top: -21px;">AgroChain</h4>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-12" style="width: 922px; margin-top: 15px;">
                <div class="card shadow p-3 mb-5" style="border: none; background-color:#c7c6eda8">
                    <div class="row" style="margin-bottom: 10px;">
                        <div class="col-4">
                            <img src="./src/bootstrap-icons/card-text.svg" style="width:40px; height:40px; color:white; margin-left: 352px;">
                        </div>
                        <div class="col-8">
                            <h3 style="margin-left:118px">Supermarché</h3>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-4" style="margin-left:320px">
                            <form id="form">
                                <div class="inter">
                                <label for="formGroupExampleInput" class="form-label">Nom produit</label>
                                    <input type="text" class="form-control" id="nom_produit" placeholder="Entrez le produit">
                                </div>
                                <div class="inter">
                                    <button type="button" id="search" class="btn btn-success" style="margin-top:19px; margin-left:95px">Valider     <img src="./src/bootstrap-icons/search.svg" style="width: 25px; height: 25px;"></button>
                                </div>
                            </form>
                            <div id="info_achat">
                            	<div class="row" style="margin-top:10px">
	                            	<tr><td><b><label class = "black">Nom agriculteur</label>:</td></b><td><span class="black" span id="nom_agri"></span></td></tr>
								  	<tr><td><b><label class = "black">Habitation</label></td><td>:</td></b><td><span class="black" span id="habitation_agri"></span></td></tr>
								  	<tr><td><b><label class = "black">Telphonee</label></td><td>:</td></b><td><span class="black" span id="telephone_agri"></span></td></tr>
								  	<tr><td><b><label class = "black">Produit</label></td><td>:</td></b><td><span class="black" span id="nom_produit"></span></td></tr>
								  	<tr><td><b><label class = "black">Prix</label></td><td>:</td></b><td><span class="black" span id="prix_agri"></span></td></tr>
                                    <tr><td><b><label class = "black">Production</label></td><td>:</td></b><td><span class="black" span id="date_prod"></span></td></tr>
                                    <tr><td><b><label class = "black">Expiration</label></td><td>:</td></b><td><span class="black" span id="date_exp"></span></td></tr>
                            	</div>
                            	<div class="inter">
                                	<button type="button" id="acheter" class="btn btn-primary" style="margin-top:19px; margin-left:95px">Acheter</button>
                            	</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
<script type="text/javascript" src="./src/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="./src/particles.js"></script>
<script type="text/javascript" src="./src/sweetalert.min.js"></script>
<script src="vendor/web3/dist/web3.min.js"></script>
<script src="vendor/truffle-contract/dist/truffle-contract.js"></script>
<script type="text/javascript" src="./app.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
        $('#form').show();
        $('#info_achat').hide();

        $("#search").click(function(){
            console.log("searching");
            App.renderProducts();
            $("#form").show();
            $('#info_achat').show();
        });
         $("#acheter").click(function(){
            swal({
                title: "Vous êtes sûr?",
                text: "Une fois valider, vous ne pouvez pas retourner en arrière",
                icon: "info",
                buttons: true,
                dangerMode: false,
                })
            .then((willDelete) => {
                if (willDelete) {
                    App.acheter()
                    swal("Commande validée! Veuillez valider l'operation depuis votre portefeuille", {
                        icon: "success",
                    });
                    window.location.reload()

                } 
                else {
                    swal("Commande non validée", {
                       icon: "error", 
                    });
                }
            });
         })
    })
</script>
</html> 


